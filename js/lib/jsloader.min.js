!function(a,b){var c={},d={},e="$$",f=[],g=[],h={base:"",charset:"utf-8",isDebug:!0,alias:{}},i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,j=i.getElementsByTagName("base")[0],k=function(){},l=function(a){return x(a)&&1===a.length?a[0]:a},m=function(a){var b=[];a="string"==typeof a?[a]:a;for(var c,d=0;c=a[d++];)c=h.alias[c]?h.alias[c]:c,c=r(c),c=s(c),c=t(c),b.push(c);return b},n=function(a){var b=document.createElement("script");b.charset=h.charset,o(b),b.async=!0,b.src=a,j?i.insertBefore(b,j):i.appendChild(b)},o=function(a){a.onload=a.onreadystatechange=function(){(!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null)}},p=function(){var a,b,c;if(document.currentScript)return document.currentScript.src;try{throw Error("")}catch(d){if(a=d.stack,!a&&window.opera&&(a=(String(d).match(/of linked script \S+/g)||[]).join(" ")),a)return a=a.split(/[@ ]/g).pop(),a="("===a[0]?a.slice(1,-1):a.replace(/\s/,""),a.replace(/(:\d+)?:\d+$/i,"")}try{c=document.getElementsByTagName("script");for(var e,f=0;e=c[f++];)if("interactive"===e.readyState)return b=document.querySelector?e.src:e.getAttribute("src",4)}catch(d){z("getCurScript is fail.\n")}return""},q=function(){return document.location.href.substring(0,document.location.href.lastIndexOf("/"))},r=function(a){var b=/(^file:\/\/)|(^http:\/\/)|(^https:\/\/)/,c=/(^\/)/,d=/(\/$)/,e="/",f=h.base;return b.test(a)||(a=d.test(f)?c.test(a)?f+a.slice(1):f+a:c.test(a)?f+a:f+e+a,b.test(f)||(a=q()+(c.test(a)?"":e)+a)),a},s=function(a){var b=[],c=/(\.js$)|(\.js\?)/;return c.test(a)||(a.indexOf("?")>-1&&a.indexOf("?")!=a.length-1?(b=a.split("?"),b[0]+=".js?",a=b.join("")):a+=".js"),a},t=function(a){var b=/\/\.\//g,c=/\/[^/]+\/\.\.\//;for(a=a.replace(b,"/");a.match(c);)a=a.replace(c,"/");return a},u=function(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}},v=u("Object"),w=u("String"),x=Array.isArray||u("Array"),y=u("Function"),z=function(b){h.isDebug&&(a.console?console.error(b):alert(b))},A=function(a){var b,g,h=[];for(var i in d)if((i==a||i.indexOf(a)>-1)&&(b=d[i],y(b))){g=i.split(e);for(var j,k=0;j=g[k++];){if(!c[j]||!c[j].length||f[j]+1!=c[j].length)return;h.push(l(C(j)))}b.apply(null,h),delete d[i]}},B=function(a,c){b==g[a]?g[a]=[c]:g[a].push(c)},C=function(a){for(var b=c[a],d=g[a],e=[],f=0,h=b.length;h>f;f++)e[d[f]]=b[f];return e},D=function(a){for(var b in a)h[b]=a[b]},E=function(a,d){var e,g,h=p(),i="run the define fail. \n";try{if(y(a)||v(a))e=a;else{if(g=w(a)?[a.toString()]:a,!x(g))throw"define param[deps] error.\n";if(!y(d))throw"define param[factory] is not function.\n";e=d}b==f[h]?f[h]=0:f[h]++,b==c[h]&&(c[h]=[]),b!=g?F(a,function(a,b){return function(){B(a,b),c[a].push(e.apply(null,arguments)),A(a)}}(h,f[h],e)):(B(h,f[h]),c[h].push(y(e)?e():e),A(h))}catch(j){i+=j,i+="\n",i+=h,z(i)}},F=function(a,f){var g=m(a),h=g.join(e);"function"==typeof f?d[h]=f:z("params[callback] error in require. \n"+h);for(var i,j=0;i=g[j++];)b===c[i]?n(i):A(i)};!function(){var a=document.getElementsByTagName("script"),c=document.getElementById("loader-node")||a[a.length-1],d=c.getAttribute("data-main");d&&F(d,k),b===window.jsloader&&(window.jsloader={version:"2.0",config:D,define:E,require:F},window.define=jsloader.define,window.require=jsloader.require)}()}(window);
//# sourceMappingURL=jsloader.js.map