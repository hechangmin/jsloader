!function(a,b){var c={},d={},e="$$",f=[],g=[],h={base:"",charset:"utf-8",isDebug:!0,alias:{}},i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,j=i.getElementsByTagName("base")[0],k=function(a){return w(a)&&1===a.length?a[0]:a},l=function(a){var b=[];a="string"==typeof a?[a]:a;for(var c,d=0;c=a[d++];)c=h.alias[c]?h.alias[c]:c,c=q(c),c=r(c),c=s(c),b.push(c);return b},m=function(a){var b=document.createElement("script");b.charset=h.charset,n(b),b.async=!0,b.src=a,j?i.insertBefore(b,j):i.appendChild(b)},n=function(a){a.onload=a.onreadystatechange=function(){(!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null)}},o=function(){var a,b,c;if(document.currentScript)return document.currentScript.src;try{throw Error("")}catch(d){if(a=d.stack,!a&&window.opera&&(a=(String(d).match(/of linked script \S+/g)||[]).join(" ")),a)return a=a.split(/[@ ]/g).pop(),a="("===a[0]?a.slice(1,-1):a.replace(/\s/,""),a.replace(/(:\d+)?:\d+$/i,"")}try{c=document.getElementsByTagName("script");for(var e,f=0;e=c[f++];)if("interactive"===e.readyState)return b=document.querySelector?e.src:e.getAttribute("src",4)}catch(d){y("getCurScript is fail.\n")}return""},p=function(){return document.location.href.substring(0,document.location.href.lastIndexOf("/"))},q=function(a){var b=/(^file:\/\/)|(^http:\/\/)|(^https:\/\/)/,c=/(^\/)/,d=/(\/$)/,e="/",f=h.base;return b.test(a)||(a=d.test(f)?c.test(a)?f+a.slice(1):f+a:c.test(a)?f+a:f+e+a,b.test(f)||(a=p()+(c.test(a)?"":e)+a)),a},r=function(a){var b=[],c=/(\.js$)|(\.js\?)/;return c.test(a)||(a.indexOf("?")>-1&&a.indexOf("?")!=a.length-1?(b=a.split("?"),b[0]+=".js?",a=b.join("")):a+=".js"),a},s=function(a){var b=/\/\.\//g,c=/\/[^/]+\/\.\.\//;for(a=a.replace(b,"/");a.match(c);)a=a.replace(c,"/");return a},t=function(a){return function(b){return{}.toString.call(b)==="[object "+a+"]"}},u=t("Object"),v=t("String"),w=Array.isArray||t("Array"),x=t("Function"),y=function(b){h.isDebug&&(a.console?console.error(b):alert(b))},z=function(a){var b,g,h=[];for(var i in d)if((i==a||i.indexOf(a)>-1)&&(b=d[i],x(b))){g=i.split(e);for(var j,l=0;j=g[l++];){if(!c[j]||!c[j].length||f[j]+1!=c[j].length)return;h.push(k(B(j)))}b.apply(null,h),delete d[i]}},A=function(a,c){b==g[a]?g[a]=[c]:g[a].push(c)},B=function(a){for(var b=c[a],d=g[a],e=[],f=0,h=b.length;h>f;f++)e[d[f]]=b[f];return e},C=function(a){for(var b in a)h[b]=a[b]},D=function(a,d){var e,g,h=o(),i="run the define fail. \n";try{if(x(a)||u(a))e=a;else{if(g=v(a)?[a.toString()]:a,!w(g))throw"define param[deps] error.\n";if(!x(d))throw"define param[factory] is not function.\n";e=d}b==f[h]?f[h]=0:f[h]++,b==c[h]&&(c[h]=[]),b!=g?E(a,function(a,b){return function(){A(a,b),c[a].push(e.apply(null,arguments)),z(a)}}(h,f[h],e)):(A(h,f[h]),c[h].push(x(e)?e():e),z(h))}catch(j){i+=j,i+="\n",i+=h,y(i)}},E=function(a,f){var g=l(a),h=g.join(e);"function"==typeof f?d[h]=f:y("params[callback] error in require. \n"+h);for(var i,j=0;i=g[j++];)b===c[i]?m(i):z(i)};!function(){var a=document.getElementsByTagName("script"),c=document.getElementById("loader-node")||a[a.length-1],d=c.getAttribute("data-main");d&&E(d,function(){}),b===window.jsloader&&(window.jsloader={version:"2.0",config:C,define:D,require:E},window.define=jsloader.define,window.require=jsloader.require)}()}(window);
//# sourceMappingURL=jsloader.js.map