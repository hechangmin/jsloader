!function(a,b){var c={},d={},e="@_@",f=[],g=[],h={},i={charset:"utf-8",debug:!1,alias:{}},j=function(a){for(var b in a)i[b]=a[b]},k=function(a,d){var e=t();b==f[e]?f[e]=0:f[e]++,b===c[e]&&(c[e]=[]);try{if(b!==d&&"function"==typeof a){if(d="string"==typeof d?[d]:d,!z(d))throw A("param[deps] is error . \n"),Error("");l(d,function(b){return function(){o(e,b),c[e].push(a.apply(null,arguments))}}(f[e]))}else o(e,f[e]),c[e].push("function"==typeof a?a():a)}catch(g){A("run the define error. \n"+e)}},l=function(a,f){var g,h;a=q(a),g=a.join(e),"function"==typeof f?d[g]=f:A("params[callback] error in require. \n"+g),h=n(g);for(var i,j=0;i=a[j++];)b===c[i]?r(i,h):h()},m=function(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b.getAttribute("data-main");c&&l(c)},n=function(a){return function(){var b,g=a.split(e),i=[],j=d[a];try{for(var k,l=0;k=g[l++];){if(!c[k]||!c[k].length||f[k]+1!=c[k].length)throw{};b=p(k),1==b.length?i.push(b[0]):i.push(b)}if(j.length>i.length)throw{}}catch(m){return clearTimeout(h[a]),h[a]=setTimeout(arguments.callee,20),void 0}clearTimeout(h[a]),j.apply(null,i)}},o=function(a,c){b==g[a]?g[a]=[c]:g[a].push(c)},p=function(a){for(var b=c[a],d=g[a],e=[],f=0,h=b.length;h>f;f++)e[d[f]]=b[f];return e},q=function(a){var b=[];a="string"==typeof a?[a]:a;for(var c,d=0;c=a[d++];)c=i.alias[c]?i.alias[c]:c,c=v(c),c=w(c),c=x(c),b.push(c);return b},r=function(a,b){var c=document.createElement("script"),d=document.head||document.getElementsByTagName("head")[0]||document.documentElement;c.charset=y("charset",a)||i.charset,c.async=!0,c.src=a,s(c,b),d.insertBefore(c,d.firstChild)},s=function(a,b){a.onload=a.onreadystatechange=function(){(!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,b())}},t=function(){var a,b,c;if(document.currentScript)return document.currentScript.src;try{throw Error("")}catch(d){if(a=d.stack,!a&&window.opera&&(a=(String(d).match(/of linked script \S+/g)||[]).join(" ")),a)return a=a.split(/[@ ]/g).pop(),a="("===a[0]?a.slice(1,-1):a.replace(/\s/,""),a.replace(/(:\d+)?:\d+$/i,"")}try{c=document.getElementsByTagName("script");for(var e,f=0;e=c[f++];)if("interactive"===e.readyState)return b=document.querySelector?e.src:e.getAttribute("src",4)}catch(d){A("getCurScript is fail.")}return""},u=function(){return document.location.href.substring(0,document.location.href.lastIndexOf("/"))},v=function(a){var b=/(^file:\/\/)|(^http:\/\/)|(^https:\/\/)/,c=/(^\/)/,d="/";return b.test(a)||(a=u()+(c.test(a)?"":d)+a),a},w=function(a){var b=[],c=/(\.js$)|(\.js\?)/;return c.test(a)||(a.indexOf("?")>-1&&a.indexOf("?")!=a.length-1?(b=a.split("?"),b[0]+=".js?",a=b.join("")):a+=".js"),a},x=function(a){var b=/\/\.\//g,c=/\/[^/]+\/\.\.\//;for(a=a.replace(b,"/");a.match(c);)a=a.replace(c,"/");return a},y=function(a,b){var c=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(b);return null==c?null:c[1]||0},z=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},A=function(b){i.debug&&(a.console?console.error(b):alert(b))};m(),b===window.jsloader&&(window.jsloader={version:"1.1.0",config:j,define:k,require:l},window.define=jsloader.define,window.require=jsloader.require)}(window);
//# sourceMappingURL=jsloader.js.map